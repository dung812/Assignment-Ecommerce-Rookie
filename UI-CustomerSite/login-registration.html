<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Registration</title>
    <link rel="shortcut icon" href="./assets/images/material/Favicon.svg">
    <link rel="stylesheet" href="./assets/css/login-registration.css">
</head>

<body>
    <section>
        <div class="container">
            <div class="user singinBx">
                <div class="imgBx"><img src="./assets/images/login/lock.jpg" alt=""></div>
                <div class="formBx">

                    <form id="form-valide-login" action="#" method="post">
                        <h2>Sign In</h2>
                        <p class="incorrect-smg">Fail something</p>
                        <div class="form-group">
                            <div>
                                <input type="email" name="email" placeholder="Your email address" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <div>
                                <input type="password" name="password" placeholder="Password" required>
                            </div>
                        </div>

                        <div class="wrap-submit">
                            <button type="submit" class="btn-submit">Login</button>
                            <a href="./forgot-password.html" class="forgot-pwd">Forgot password?</a>
                        </div>
                        <p class="signup">Don't have an account ? <a href="#" onclick="toggleForm();">Sign Up.</a></p>
                    </form>

                </div>
            </div>
            <div class="user singupBx">
                <div class="formBx">
                    <form id="form-valide-registration">
                        <h2>Create an account</h2>
                        <p class="msgError">Fail something</p>
                        <div class="form-group">
                            <div>
                                <input type="text" name="firstName" placeholder="First name">
                            </div>
                        </div>
                        <div class="form-group">
                            <div>
                                <input type="text" name="lastName" placeholder="Last name">
                            </div>
                        </div>

                        <div class="form-group">
                            <div>
                                <input type="email" name="email" placeholder="Email Address">
                            </div>
                        </div>

                        <button type="submit" class="btn-submit registration btn-custom-loading">
                            <div class="loader"></div><span>Sign Up</span>
                        </button>
                        <p class="signup">Already have an account ? <a href="#" onclick="toggleForm();">Sign In.</a></p>
                    </form>

                    <div class="signup-success text-center hide">
                        <img src="./assets/images/material/ads-success-icon.png" alt="success signup" />

                        <h2 class="signin-heading">Successfully register your account</h2>
                        <p class="signin-text">
                            Please check your email <strong id="email-register"></strong> to get your account
                            information.<br />
                            You can change your password later
                        </p>
                        <button class="btn-submit" onclick="toggleForm();">Login</button>
                    </div>

                </div>
                <div class="imgBx"><img src="./assets/images/login/key.jpg" alt=""></div>
            </div>
        </div>
    </section>


    <!-- Jquery Validation -->
    <script src="./assets/js/jquery.min.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>

    <script>
        jQuery("#form-valide-registration").validate({
            rules: {
                "firstName": {
                    required: !0,
                    minlength: 2
                },
                "lastName": {
                    required: !0,
                    minlength: 2
                },
                "email": {
                    required: !0,
                    email: !0
                },
                //"password": {
                //    required: !0,
                //    minlength: 5
                //},
                //"confirm-password": {
                //    required: !0,
                //    equalTo: "#password"
                //},
            },
            messages: {
                "firstName": {
                    required: "Please enter your first name",
                    minlength: "First name must consist of at least 2 characters"
                },
                "lastName": {
                    required: "Please enter your last name",
                    minlength: "Last name must consist of at least 2 characters"
                },
                "email": "Please enter a valid email address",
                //"password": {
                //    required: "Please provide a password",
                //    minlength: "Your password must be at least 5 characters long"
                //},
                //"confirm-password": {
                //    required: "Please provide a password",
                //    minlength: "Your password must be at least 5 characters long",
                //    equalTo: "Please enter the same password as above"
                //},
            },

            ignore: [],
            errorClass: "invalid-feedback animated fadeInUp",
            errorElement: "div",
            errorPlacement: function (e, a) {
                jQuery(a).parents(".form-group > div").append(e)
            },
            highlight: function (e) {
                jQuery(e).closest(".form-group").removeClass("is-invalid").addClass("is-invalid")
            },
            success: function (e) {
                jQuery(e).closest(".form-group").removeClass("is-invalid"), jQuery(e).remove();
            },
            submitHandler: function (form) {
                var firstName = $('#form-valide-registration input[name="firstName"]').val();
                var lastName = $('#form-valide-registration input[name="lastName"]').val();
                var email = $('#form-valide-registration input[name="email"]').val();
                // $.ajax({
                //     url: "/User/Registration",
                //     type: "POST",
                //     data: {
                //         firstName: firstName,
                //         lastName: lastName,
                //         email: email,
                //     },
                //     beforeSend: function () {
                //         document.querySelector(".msgError").textContent = "";

                //         const btnSubmit = document.querySelector(".btn-custom-loading");
                //         btnSubmit.classList.add("is-loading");
                //     },
                //     success: function (data) {
                //         const btnSubmit = document.querySelector(".btn-custom-loading");
                //         btnSubmit.classList.remove("is-loading");

                //         if (data.status) {
                //             const successRegister = document.querySelector(".signup-success");
                //             successRegister.classList.remove("hide");

                //             form.classList.add("hide")

                //             document.querySelector("#email-register").textContent = data.email;

                //         }
                //         else {
                //             document.querySelector(".msgError").textContent = data.msg;
                //         }
                //     },
                //     error: function (err) {
                //         const btnSubmit = document.querySelector(".btn-custom-loading");
                //         btnSubmit.classList.remove("is-loading");
                //     }
                // });

                return false;  //This doesn't prevent the form from submitting.
                //form.submit();
            }
        });
    </script>
    <script>
        function toggleForm() {
            var section = document.querySelector('section');
            var container = document.querySelector('.container');
            container.classList.toggle('active');
            section.classList.toggle('active');
        }

        document.querySelector('.registration').addEventListener('click', function (e) {
            const successRegister = document.querySelector(".signup-success");
            successRegister.classList.remove("hide");
            document.querySelector("#form-valide-registration").classList.add("hide")
            document.querySelector("#email-register").textContent = "knguyn16@gmail.com";
        })
    </script>

</body>

</html>